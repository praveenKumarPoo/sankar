(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[200],{49905:function(e,s,l){Promise.resolve().then(l.bind(l,63128))},63128:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return b}});var t=l(57437),a=l(2265),r=l(65258),n=l(25600),i=l(22068);function d(){for(var e=arguments.length,s=Array(e),l=0;l<e;l++)s[l]=arguments[l];return s.filter(Boolean).join(" ")}function c(e){let{children:s,className:l,...a}=e;return(0,t.jsx)("button",{type:"button",className:d("relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",l),...a,children:s})}function o(e){let{children:s,className:l,...a}=e;return(0,t.jsx)("button",{type:"button",className:d("relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",l),...a,children:s})}function m(e){let{className:s}=e;return(0,t.jsx)("svg",{className:s,stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 320 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"})})}function x(e){let{className:s}=e;return(0,t.jsx)("svg",{className:s,stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 320 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z"})})}function h(e){let{className:s}=e;return(0,t.jsx)("svg",{className:s,stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 320 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z"})})}function u(e){let{preGlobalFilteredRows:s,globalFilter:l,setGlobalFilter:n}=e,i=s.length,[d,c]=a.useState(l),o=(0,r.useAsyncDebounce)(e=>{n(e||void 0)},200);return(0,t.jsxs)("label",{className:"flex gap-x-2 items-baseline",children:[(0,t.jsx)("span",{className:"text-white text-xl",children:"Search: "}),(0,t.jsx)("input",{type:"text",className:"rounded-md h-10 border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",value:d||"",onChange:e=>{c(e.target.value),o(e.target.value)},placeholder:"".concat(i," records...")})]})}var p=function(e){let{columns:s,data:l}=e,{getTableProps:a,getTableBodyProps:d,headerGroups:p,prepareRow:g,page:f,canPreviousPage:j,canNextPage:w,pageOptions:b,pageCount:v,gotoPage:N,nextPage:y,previousPage:D,setPageSize:C,state:k,preGlobalFilteredRows:E,setGlobalFilter:P}=(0,r.useTable)({columns:s,data:l},r.useFilters,r.useGlobalFilter,r.useSortBy,r.usePagination);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"sm:flex sm:gap-x-2 mt-20",children:[(0,t.jsx)(u,{preGlobalFilteredRows:E,globalFilter:k.globalFilter,setGlobalFilter:P}),p.map(e=>e.headers.map(e=>e.Filter?(0,t.jsx)("div",{className:"mt-2 sm:mt-0",children:e.render("Filter")},e.id):null))]}),(0,t.jsx)("div",{className:"mt-4 flex flex-col",children:(0,t.jsx)("div",{className:"-my-2 overflow-x-auto -mx-4 sm:-mx-6 lg:-mx-8",children:(0,t.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:(0,t.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:(0,t.jsxs)("table",{...a(),className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-blue-700",children:p.map(e=>(0,t.jsx)("tr",{...e.getHeaderGroupProps(),children:e.headers.map(e=>(0,t.jsx)("th",{scope:"col",className:"group px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",...e.getHeaderProps(e.getSortByToggleProps()),children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[e.render("Header"),(0,t.jsx)("span",{children:e.isSorted?e.isSortedDesc?(0,t.jsx)(h,{className:"w-4 h-4 text-white"}):(0,t.jsx)(x,{className:"w-4 h-4 text-white"}):(0,t.jsx)(m,{className:"w-4 h-4 text-white opacity-0 group-hover:opacity-100"})})]})}))}))}),(0,t.jsx)("tbody",{...d(),className:"bg-indigo-200 divide-y divide-blue-300",children:f.map((e,s)=>(g(e),(0,t.jsx)("tr",{...e.getRowProps(),children:e.cells.map(e=>(0,t.jsx)("td",{...e.getCellProps(),className:"px-6 py-4 whitespace-nowrap",role:"cell",children:"defaultRenderer"===e.column.Cell.name?(0,t.jsx)("div",{className:"text-sm text-black",children:e.render("Cell")}):e.render("Cell")}))})))})]})})})})}),(0,t.jsxs)("div",{className:"py-3 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,t.jsx)(c,{onClick:()=>D(),disabled:!j,children:"Previous"}),(0,t.jsx)(c,{onClick:()=>y(),disabled:!w,children:"Next"})]}),(0,t.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{className:"flex gap-x-2 items-baseline",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-700",children:["Page ",(0,t.jsx)("span",{className:"font-medium",children:k.pageIndex+1})," of ",(0,t.jsx)("span",{className:"font-medium",children:b.length})]}),(0,t.jsxs)("label",{children:[(0,t.jsx)("span",{className:"sr-only",children:"Items Per Page"}),(0,t.jsx)("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",value:k.pageSize,onChange:e=>{C(Number(e.target.value))},children:[5,10,20].map(e=>(0,t.jsxs)("option",{value:e,children:["Show ",e]},e))})]})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,t.jsxs)(o,{className:"rounded-l-md",onClick:()=>N(0),disabled:!j,children:[(0,t.jsx)("span",{className:"sr-only",children:"First"}),(0,t.jsx)(n.Z,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})]}),(0,t.jsxs)(o,{onClick:()=>D(),disabled:!j,children:[(0,t.jsx)("span",{className:"sr-only",children:"Previous"}),(0,t.jsx)(i.Z,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})]}),(0,t.jsxs)(o,{onClick:()=>y(),disabled:!w,children:[(0,t.jsx)("span",{className:"sr-only",children:"Next"}),(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6",children:[(0,t.jsx)("path",{fillRule:"evenodd",d:"M13.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L11.69 12 4.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}),(0,t.jsx)("path",{fillRule:"evenodd",d:"M19.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06L17.69 12l-6.97-6.97a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"})]})]}),(0,t.jsx)(o,{className:"rounded-r-md",onClick:()=>N(v-1),disabled:!w,children:(0,t.jsx)("span",{className:"sr-only",children:"Last"})})]})})]})]})]})},g=l(59887),f=l(33831),j=l(16046);l(5274);let w=e=>e.map(e=>{let s={};return Object.keys(e).map(l=>{s[l.replaceAll(" ","").toLowerCase()]=e[l]}),s});var b=function(){let[e,s]=(0,a.useState)([]),l=async()=>{await fetch("".concat("https://chipper-toffee-e75e3f.netlify.app/.netlify/functions/api","/list")).then(e=>e.json()).then(e=>{console.log(e);let l=[...e],t=0,a=[],r=[];l.map((e,s)=>{t=Math.max(t,e["Reg No:"]||0);let n=new Date(e["DUE DATE"]);e["DUE DATE"]||(e["DUE DATE"]=(0,g.I)(new Date(e.lastUpdateDateTime),{months:e["Fees Options"]}).valueOf(),n=new Date(e["DUE DATE"]));let i=new Date,d=(0,f.j)(new Date(n),new Date(i)),c=isNaN(d)||d<-90?"#f0f0b7":d>=-90&&d<=0?"#f47979":"#2afc0094";l[s]={...l[s],expiredDays:Math.abs(d),rowColor:c,inValidList:"#f0f0b7"===c,FeedueDate:e["DUE DATE"]?(0,j.WU)(new Date(e["DUE DATE"]),"dd/MM/yyyy"):""},"#f47979"===c&&a.push(l[s]),"#f0f0b7"===c&&r.push(l[s])}),[...l],console.log((l=l.filter(e=>{let{inValidList:s}=e;return!s})).sort((e,s)=>e["Reg No:"]-s["Reg No:"])),s(w(l))})};(0,a.useEffect)(()=>{l()},[]);let r=a.useMemo(()=>["regno:","name","phonenumber","feeduedate"].map(e=>({Header:e,accessor:e})),[]);return console.log(r),(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-indigo-950 to-white via-indigo-300 text-gray-900 top-0.5",children:(0,t.jsx)("main",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 pt-4",children:(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsx)(p,{columns:r,data:e})})})})}}},function(e){e.O(0,[700,971,23,744],function(){return e(e.s=49905)}),_N_E=e.O()}]);